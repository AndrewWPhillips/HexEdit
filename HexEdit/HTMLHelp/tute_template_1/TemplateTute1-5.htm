<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>Finishing Touches</title>

<!--(Meta)==========================================================-->

<meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=3200>
<meta name=layout-width content=1213>


<!--(Links)=========================================================-->

<link rel="StyleSheet" href="..\Hexedit.css">



</head>

<!--(Body)==========================================================-->


<body>

<h2><font style="font-family: Arial;"
			face=Arial>Step 5. Finishing Touches</font></h2>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">In this last step we will try 
 some more advanced template facilities.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;">Expression Evaluation</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">You can evaluate an expression 
 at any point in the template. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->This 
 can be useful for debugging a template or just for displaying interesting 
 information to the user. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->It 
 is also useful for creating and initialising a variable that is used later 
 in the template.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">See <a HREF="../overviewadvanced/Expressions.htm">Expressions</a> 
 for more on expressions.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">To demonstrate this we will 
 change the template to display the length of the longest line at the bottom 
 of the tree window. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->To 
 do this we need to do three things:</p>

<ul style="list-style: disc;"
	type=disc>
	
	<li class=kadov-p><p style="margin-top: 0; margin-bottom: 0;">create 
 and initialise a max line length variable at the start of the template, 
 </p></li>
	
	<li class=kadov-p><p style="margin-top: 0; margin-bottom: 0;">update 
 the max line length for each line of text of the file, and</p></li>
	
	<li class=kadov-p><p style="margin-top: 0; margin-bottom: 0;">display 
 the result at the end of the template.</p></li>
</ul>

<p class=Body-Text-Indent-2>1. Double-click the root node to edit it. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Select 
 the first &quot;line [FOR]&quot; element in the list and click the &quot;Insert&quot; 
 button and select &quot;Expression Evaluation&quot; from the list. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->In 
 the dialog's &quot;Expression&quot; field enter &quot;max_length = 0&quot;. 
 <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Leave the 
 check-boxes unchecked and click OK.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_1.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><br>
<br>
Figure 5.1 Initialising &quot;max_length&quot;.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">Now we want to edit the DATA 
 element for each line. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->To 
 do that we first edit the &quot;FOR&quot; element.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p class=Body-Text-Indent-2>2. Select the first &quot;line [FOR]&quot; 
 element in the list and click the &quot;Edit...&quot; button, which brings 
 up the &quot;FOR&quot; dialog. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->In 
 the &quot;FOR&quot; dialog click the &quot;Edit...&quot; button which 
 brings up the &quot;DATA Element&quot; dialog. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Change 
 the domain field to &quot;max_length = max(max_length, strlen(this)), 
 true&quot;.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">This uses the comma operator 
 to evaluate an expression that updates the max_length variable, it then 
 returns &quot;true&quot; as the result of the expression so that the domain 
 validation succeeds.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;"><img src="../tip.gif"
												style="border: none;
														width: 31px;
														height: 12px;"
												width=31
												height=12
												border=0>The comma operator 
 can be considered an operation that takes two operands (the one before 
 and the one after the comma). <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->It 
 evaluates both operands but the result of the total expression is just 
 the result of the 2nd operand. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->To 
 find out more about the &quot;comma&quot; operator refer to any manual 
 on the C or C++ programming language.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_2.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><br>
<br>
Figure 5.2 Updating &quot;max_length&quot; using domain of &quot;line&quot; 
 DATA Element.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p class=Body-Text-Indent-2>3. Click OK twice to return to the STRUCT dialog.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">Finally we want to display 
 the result at the very end of the template (ie after the FOR loop).</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p class=Body-Text-Indent-2>4. Select the last entry in the element list 
 in the &quot;STRUCT&quot; dialog. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->This 
 is a blank entry below the &quot;line [FOR]&quot; entry. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Click 
 the &quot;Insert&quot; button and select &quot;Expression Evaluation&quot; 
 from the list. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->In 
 the dialog's &quot;Expression&quot; field enter &quot;The longest line 
 is {max_length}&quot;. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->Also 
 check the &quot;Always display in tree&quot; so that the result is displayed 
 to the user of the template even when not in template edit mode.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_3.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><br>
<br>
Figure 5.3 Displaying the maximum line length.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p class=Body-Text-Indent-2>5. Click OK to close the expression evaluation 
 dialog then click OK in the STRUCT dialog.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_4.gif"
						style="border-style: none;
								border: none;
								width: 444px;
								height: 301px;"
						width=444
						height=301
						border=0><br>
<br>
Figure 5.4 STRUCT dialog with new EVAL elements.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">We have now finished the changes. 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->If 
 everything is correct you should see a line at the bottom of the tree 
 giving the length of the longest line.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">To see how the user of the 
 template would see it, turn off template editing.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p class=Body-Text-Indent-2>6. Right-click the root node and select the 
 &quot;Disallow editing&quot; menu item.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_5.gif"
						style="border-style: none;
								border: none;
								width: 554px;
								height: 322px;"
						width=554
						height=322
						border=0><br>
<br>
Figure 5.5 Turning off &quot;Edit&quot; mode.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">With &quot;edit&quot; mode 
 off, the first EVAL, which is just used to initialise &quot;max_length&quot; 
 is not shown, as it is of no significance to the template user. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->However, 
 the EVAL that displays the length of the maximum line is displayed.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			font-weight: bold;
			text-align: center;"
	align=center><img src="tute1_5_6.gif"
						style="border-style: none;
								border: none;
								width: 638px;
								height: 430px;"
						width=638
						height=430
						border=0><br>
<br>
Figure 5.6 Final Tree-view as template user sees it.</p>

<p style="font-weight: bold;">Conclusion</p>

<p>&nbsp;</p>

<p>That concludes the tutorial. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->You 
 should now have an idea of the usefulness of HexEdit templates. <!--kadov_tag{{<spaces>}}-->&nbsp;<!--kadov_tag{{</spaces>}}-->You 
 might now like to try <a href="../tute_template_2/TemplateTute2-0.htm">The 
 Advanced Template Creation Tutorial</a>.</p>

<p>&nbsp;</p>

<p style="margin-top: 0; margin-bottom: 0;">You can find out more information 
 about creating and editing templates in <a href="../overviewadvanced/Editing_templates.htm">Editing 
 templates</a>.</p>

<p style="margin-top: 0; margin-bottom: 0;">&nbsp;</p>

<p style="margin-top: 0;
			margin-bottom: 0;
			text-align: center;"
	align=center><a HREF="TemplateTute1-4.htm"><img src="../back.gif"
													style="border-style: none;
															border: none;
															width: 51px;
															height: 22px;"
													width=51
													height=22
													border=0></a></p>

<p>&nbsp;</p>

</body>

</html>
